<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <p:dataTable id="data-riwayat" var="list" 
                 value="#{potensiMBean.listPersonelHistory}" 
                 reflow="true"  paginator="true" paginatorPosition="bottom" rows="10" 
                 rowsPerPageTemplate="5" 
                 rowKey="#{list.personnelHistoryID}" >

        <f:facet name="header">
            Daftar Riwayat tugas
        </f:facet>

        <p:column headerText="Bulan /  Tahun" sortBy="#{list.incidentYear}">
            <p:outputLabel value="#{list.incidentYear}"/>
        </p:column>
        <p:column headerText="Nama Insiden" sortBy="#{list.incidentName}">
            <p:outputLabel value="#{list.incidentName}" />
        </p:column>
        <p:column headerText="Jabatan" sortBy="#{list.incidentPosition}">
            <p:outputLabel value="#{list.incidentPosition}"/>
        </p:column>
        <p:column headerText="Deskripsi" sortBy="#{list.incidentDesc}">
            <p:outputLabel value="#{list.incidentDesc}"/>
        </p:column>
        <p:column headerText="Action">
            <p:commandButton label="Edit" style="max-width: 80px" 
                             actionListener="#{potensiMBean.loadHistory}"
                             process="@this"
                             update="respotensi-content:profil-tabs:idPanelAddRiwayat" 
                             styleClass="blue-grey-btn" 
                             icon="fa fa-edit">
                <f:attribute name="listRow" value="#{list}" />
            </p:commandButton>
            <p:spacer width="10"/>
            <p:commandButton label="Hapus" style="max-width: 80px" 
                             actionListener="#{potensiMBean.hpsHistory}"
                             process="@this"
                             styleClass="red-btn" 
                             icon="fa fa-trash">
                <f:attribute name="listRow" value="#{list}" />
                <p:confirm header="Konfirmasi" 
                           message="Apakah anda ingin menghapus data ?" 
                           icon="ui-icon-alert" />
            </p:commandButton>
        </p:column>
    </p:dataTable>
    <br/>
<!--    <p:panel 
        id="idPanelAddRiwayat"
        class="no-border card card-w-title ui-fluid ui-grid-col-7" header="Detail" >
        <p:panelGrid columns="2" columnClasses="ui-grid-col-4,ui-grid-col-7"
                     style="width: 100%"
                     styleClass="ui-panelgrid-blank form-group">
            <p:outputLabel value="Bulan / Tahun" />
            <p:inputMask value="#{potensiMBean.personnelHistory.incidentYear}" 
                         disabled="#{potensiMBean.potencyDisabled}"
                         mask="99/9999"
                         required="true" requiredMessage="Bulan/Tahun mohon diisi"/>
            <p:outputLabel value="Nama Insiden" />
            <p:inputText value="#{potensiMBean.personnelHistory.incidentName}" 
                         disabled="#{potensiMBean.potencyDisabled}"
                         required="true" requiredMessage="Nama Insiden mohon diisi"/>
            <p:outputLabel value="Jabatan"/>
            <p:inputText value="#{potensiMBean.personnelHistory.incidentPosition}" 
                         disabled="#{potensiMBean.potencyDisabled}" />
            <p:outputLabel value="Deskripsi"/>
            <p:inputText value="#{potensiMBean.personnelHistory.incidentDesc}" 
                         disabled="#{potensiMBean.potencyDisabled}"/>
            <p:panel class="no-border no-padding control-button" style="text-align: left">
                <p:commandButton value="Tambah" style="width:130px"
                                 styleClass="green-btn"
                                 process="respotensi-content:profil-tabs:idPanelAddRiwayat"
                                 update="respotensi-content:profil-tabs:idPanelAddRiwayat,
                                 respotensi-content:profil-tabs:data-riwayat" 
                                 actionListener="{potensiMBean.tambahPersonilHistory}">

                </p:commandButton>
            </p:panel>
        </p:panelGrid>
    </p:panel>    -->


</ui:composition>