<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"> 

    <div class="ui-g ui-fluid">
        <h:form id="form-ws8" prependId="false">
            <div class="ui-g-12 ui-lg-12 ">
                <table cellpadding="10">
                    <tr>
                        <td style="width: 150px"><p:commandButton value="NEW" actionListener="#{driftCalcWorksheet8MBean.newWS8()}" process="@form" update="@form" styleClass="green-btn"/></td>
                        <td style="width: 150px">
                            <p:commandButton value="OPEN" styleClass="green-btn">
                                <p:ajax event="click" process="@form" listener="#{driftCalcWorksheet8MBean.openWS8()}"/>
                            </p:commandButton>
                        </td>
                        <td style="width: 150px">
                            <p:commandButton value="SAVE" actionListener="#{driftCalcWorksheet8MBean.openSaveDialog()}" process="@form" update="@form" styleClass="green-btn"/>
                        </td>
                        <td style="width: 150px">
                            <p:commandButton value="DELETE" actionListener="#{driftCalcWorksheet8MBean.deleteWS8()}" process="@form" update="@form" styleClass="green-btn">
                                <p:confirm header="Konfirmasi" message="Apakah anda yakin ingin menghapus data Worksheet ini?" icon="ui-icon-alert"/>
                            </p:commandButton>
                        </td>
                        <td style="width: 150px">
                            <p:commandButton value="CALCULATE" process="@form" update="incidentdetail:tabplanning-content:ws8-calculation,form-ws8-panel1" actionListener="#{driftCalcWorksheet8MBean.calculateWS8()}" styleClass="green-btn"/>

                        </td>
                        <td style="width: 150px">
                            <p:commandButton value="PRINT" styleClass="green-btn">
                                <p:ajax event="click" listener="#{driftCalcWorksheet8MBean.doPrint()}"  process="@this"/>
                            </p:commandButton>
                        </td>
                    </tr>
                </table>
                <p:panel id="form-ws8-panel1" >
                    <table cellpadding="10">
                        <tr>
                            <td style="width: 150px"><p:outputLabel style="width: 150px" value="SRU" /></td>
                            <td style="width:150px">
                                <p:selectOneMenu id="cboSRUW4" value="#{driftCalcWorksheet8MBean.rescuer}" required="false" requiredMessage="SRU harus di isi !" style="width:150px">
                                    <p:ajax listener="#{driftCalcWorksheet8MBean.changeSRUName}" process="@this" update="@form"/>
                                    <f:selectItems value="#{driftCalcWorksheet8MBean.listItemSRU}" />
                                </p:selectOneMenu>
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td style="width: 150px"><p:outputLabel style="width: 150px" value="Satuan" /></td>
                            <td style="width:70px">
                                <p:selectOneMenu id="cboSatuanW4" value="#{driftCalcWorksheet8MBean.unit}" style="width:70px">
                                    <f:selectItem itemLabel="NM" itemValue="0" />
                                    <f:selectItem itemLabel="KM" itemValue="1" />
                                </p:selectOneMenu>
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 150px"><p:outputLabel style="width: 150px" value="Search Object" /></td>
                            <td style="width:150px">
                                <p:selectOneMenu id="cboSOW4" value="#{driftCalcWorksheet8MBean.searchObject}" style="width:150px" required="false" requiredMessage="Search Object harus di isi !">
                                    <p:ajax listener="#{driftCalcWorksheet8MBean.changeSearchObject}" update="cboMVW4"/> 
                                    <f:selectItems value="#{driftCalcWorksheet8MBean.listSearchObject}"/>
                                </p:selectOneMenu>
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Meteorological Visibility" /></td>
                            <td style="width:100px">
                                <p:selectOneMenu id="cboMVW4" value="#{driftCalcWorksheet8MBean.meteorological}" style="width:100px" required="false" requiredMessage="Meteorological Visibility harus di isi !">
                                    <p:ajax listener="#{driftCalcWorksheet8MBean.changeMeteorogical}" update="cboSHW4"/>
                                    <f:selectItems value="#{driftCalcWorksheet8MBean.listMeteorogical}"/>
                                </p:selectOneMenu>
                            </td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="KM" /></td>
                            <td style="width:150px"><p:outputLabel style="width:150px"  value="Wind Speed" /></td>
                            <td style="width:150px"><p:inputNumber decimalPlaces="6" decimalSeparator="," thousandSeparator="." style="width:150px" id="idWind-t-w4" value="#{driftCalcWorksheet8MBean.windSpeed}"/></td>
                            <td style="width:70px"><p:outputLabel style="width:70px"  value="knot" /></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Search Height" /></td>
                            <td style="width:100px">
                                <p:selectOneMenu id="cboSHW4" value="#{driftCalcWorksheet8MBean.searchHeight}" required="false" requiredMessage="Search Height harus di isi !" style="width:100px">
                                    <f:selectItems value="#{driftCalcWorksheet8MBean.listHeight}"/>
                                </p:selectOneMenu>
                            </td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="feet" /></td>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="search Area" /></td>
                            <td style="width:150px"><p:inputNumber decimalPlaces="6" decimalSeparator="," thousandSeparator="." style="width:150px" id="idSearchArea-t-w4" value="#{driftCalcWorksheet8MBean.searchArea}"/></td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="SQ NM" /></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Search Repeat" /></td>
                            <td style="width:150px">
                                <p:selectOneMenu id="cboSRW4" value="#{driftCalcWorksheet8MBean.repeat}" style="width:150px">
                                    <f:selectItem itemLabel="First" itemValue="First" />
                                    <f:selectItem itemLabel="Second" itemValue="Second" />
                                    <f:selectItem itemLabel="Third" itemValue="Third" />
                                    <f:selectItem itemLabel="Fourth" itemValue="Fourth" />
                                    <f:selectItem itemLabel="Fifth" itemValue="Fifth" />
                                </p:selectOneMenu>
                            </td>
                            <td></td>

                            <td><p:outputLabel style="width:100px" value="Fatigue Factor" /></td>
                            <td style="width:150px">
                                <p:selectBooleanCheckbox id="basic-w4" value="#{driftCalcWorksheet8MBean.fatigueFactor}" style="width:150px"/>
                            </td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>

                    </table>
                </p:panel>  
            </div>
            <div class="ui-g-12">
                <p:panel id="ws8-calculation" header="CALCULATION RESULT" styleClass="penelHeaderGreen ui-shadow-content" 
                         collapsed="false"
                         toggleable="true" toggleSpeed="500" closeSpeed="500">
                    <table cellpadding="10">
                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Uncorrected Sweep Width" /></td>
                            <td style="width:150px"><p:inputText disabled="true" style="width:150px" id="idUSWW4-nm" value="#{driftCalcWorksheet8MBean.uncorrectedSweepWidth}"/></td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="NM" /></td>
                            <td style="vertical-align: top;" colspan="5" rowspan="8">
                                <table cellpadding="10" style="vertical-align: top;" >
                                    <tr>
                                        <td><p:outputLabel value="Titik Datum" /></td>
                                        <td><p:outputLabel value="Latitude"/></td>
                                        <td colspan="3">
                                            <p:panelGrid id="latitude4" columns="3" style="width: 100%;"
                                                         columnClasses ="ui-grid-col-2,ui-grid-col-7,ui-grid-col-3"                                                         
                                                         class="no-border no-padding-table ui-fluid">
                                                <ui:include src="coordinate-ws8/ws8-latitude.xhtml"/>
                                            </p:panelGrid>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td></td>
                                        <td><p:outputLabel value="Longitude"/></td>
                                        <td colspan="3">
                                            <p:panelGrid id="longitude4" columns="3" style="width: 100%;"
                                                         columnClasses ="ui-grid-col-2,ui-grid-col-7,ui-grid-col-3"                                                                                                                  
                                                         class="no-border no-padding-table ui-fluid">
                                                <ui:include src="coordinate-ws8/ws8-longitude.xhtml"/>
                                            </p:panelGrid>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="4"></td>
                                        <td><p:commandButton actionListener="#{driftCalcWorksheet8MBean.resetGridSruSearchArea()}" value="REFRESH" process="@form" update="@form" styleClass="green-btn"/></td>
                                    </tr>
                                    <tr>
                                        <td colspan="5">
                                            <p:panelGrid id="idDtWorksheet8ListSru" columns="1" layout="grid" styleClass="ui-panelgrid-blank form-group">
                                                <p:dataTable var="calc" value="#{driftCalcWorksheet8MBean.listAssetSearchAreaBean}" 
                                                             reflow="true" paginator="true" rows="10" 
                                                             paginatorPosition="bottom" tableStyle="table-layout:auto">
                                                    <p:column headerText="SRU">
                                                        <h:outputText value="#{calc.incidentAsset.name}" />
                                                    </p:column>
                                                    <p:column headerText="Speed">
                                                        <h:outputText value="#{calc.speed}" />
                                                    </p:column>
                                                    <p:column headerText="Track Spacing">
                                                        <h:outputText value="#{calc.practicalTrackSpacing}" />
                                                    </p:column>
                                                    <p:column headerText="Duration">
                                                        <h:outputText value="#{calc.searchHours}" />
                                                    </p:column>
                                                    <p:column headerText="Search Area">
                                                        <h:outputText value="#{calc.searchArea}" />
                                                    </p:column>
                                                    <p:column headerText="Aksi">
                                                        <p:commandLink value="Create Task Search Area" 
                                                                       update="incidentdetail:tabplanning-content:idDtWorksheet8ListSru">
                                                            <f:ajax event="click" listener="#{driftCalcWorksheet8MBean.doShowTaskSearchAreaOnMap(calc)}"/>
                                                        </p:commandLink>
                                                        <p:outputLabel value=" | "/>
                                                        <p:commandLink value="Hapus" 
                                                                       update="incidentdetail:tabplanning-content:idDtWorksheet8ListSru">
                                                            <f:ajax event="click" listener="#{driftCalcWorksheet8MBean.deleteRowList(calc)}"/>
                                                            <p:confirm header="Konfirmasi" message="Apakah anda yakin menghapus data ini?" icon="ui-icon-alert" />
                                                        </p:commandLink>
                                                    </p:column>
                                                </p:dataTable>
                                            </p:panelGrid>
                                        </td>

                                    </tr>
                                </table>
                            </td>

                        </tr>
                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Practical Space Spasing (S)" /></td>
                            <td style="width:150px"><p:inputNumber id="idPSSW4-nm" decimalPlaces="6" decimalSeparator="," thousandSeparator="." value="#{driftCalcWorksheet8MBean.practicalTrackSpacing}" /></td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="NM" /></td>

                        </tr>
                        <tr>
                            <td style="width:150px;"><p:outputLabel style="width:150px" value="Weather Correction Factor" /></td>
                            <td style="width:150px;"><p:inputText disabled="true" style="width:150px" id="idWCFW4-nm" value="#{driftCalcWorksheet8MBean.weatherCorrectionFactor}"/></td>
                            <td style="width:100px;"><p:outputLabel style="width:100px" value="NM" /></td>

                        </tr>

                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Fatigue Correction Factor" /></td>
                            <td style="width:150px"><p:inputText disabled="true" style="width:150px" id="idFCFW4-nm" value="#{driftCalcWorksheet8MBean.fatigueCorrectionFactor}"/></td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="NM" /></td>
                        </tr>
                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Sweep Width Factor" /></td>
                            <td style="width:150px"><p:inputText disabled="true" style="width:150px" id="idSWFW4-nm" value="#{driftCalcWorksheet8MBean.sweepWidthFactor}"/></td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="NM" /></td>

                        </tr>
                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Coverage Factor" /></td>
                            <td style="width:150px"><p:inputText disabled="true" style="width:150px" id="idCFW4-nm" value="#{driftCalcWorksheet8MBean.coverageFactor}"/></td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="NM" /></td>

                        </tr>
                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Probability of Detection (POD)" /></td>
                            <td style="width:150px"><p:inputText disabled="true" style="width:150px" id="idPODW4-nm" value="#{driftCalcWorksheet8MBean.probabilityOfDetection}"/></td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="%" /></td>

                        </tr>
                        <tr>
                            <td style="width:150px"><p:outputLabel style="width:150px" value="Search Hours" /></td>
                            <td style="width:150px"><p:inputText disabled="true" style="width:150px" id="idSHW4-nm" value="#{driftCalcWorksheet8MBean.searchhours}"/></td>
                            <td style="width:100px"><p:outputLabel style="width:100px" value="hours" /></td>

                        </tr>
                    </table>
                </p:panel>  
            </div>
        </h:form>
    </div>    
</ui:composition>
