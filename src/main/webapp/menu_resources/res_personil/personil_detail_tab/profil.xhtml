<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <p:panel id="detail-personel-profil" class="ui-fluid no-border no-padding value value-readonly">
        <p:messages/>
        <p:panelGrid class="no-padding no-border" columns="2" layout="grid" styleClass="ui-panelgrid-blank form-group"
                     columnClasses="ui-grid-col-6,ui-grid-col-6">
            <p:panelGrid class="no-padding no-border" columns="2" layout="grid" styleClass="ui-panelgrid-blank form-group"
                         columnClasses="ui-grid-col-4 label,ui-grid-col-8 value value-readonly">

                <p:outputLabel value="NIP/NRP" />
                <p:inputText id="nip" value="#{resPersonnelMBean.resPersonnel.personnelCode}" 
                             required="true" requiredMessage="Nip Wajib Di Isi" readonly="#{resPersonnelMBean.isReadOnlyField}"
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"/>


                <p:outputLabel value="Nama Lengkap"/>
                <p:inputText value="#{resPersonnelMBean.resPersonnel.personnelName}" 
                             required="true" requiredMessage="Nama Wajib Di Isi" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}" 
                             readonly="#{resPersonnelMBean.isReadOnlyField}"
                             label="Nama"/>
                <p:outputLabel value="KTP"/>
                <p:inputText value="#{resPersonnelMBean.resPersonnel.IKtp}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}" 
                             readonly="#{resPersonnelMBean.isReadOnlyField}"
                             label="KTP"/>

                <p:outputLabel value="Jenis Kelamin" />
                <p:inputText value="#{resPersonnelMBean.resPersonnel.gender}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"/>

                <p:outputLabel value="Tempat Lahir"/>
                <p:inputText value="#{resPersonnelMBean.resPersonnel.birthPlace}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"
                             readonly="#{resPersonnelMBean.isReadOnlyField}"
                             label="Tempat Lahir"/>

                <p:outputLabel value="Tanggal Lahir"/>
                <p:calendar value="#{resPersonnelMBean.resPersonnel.birthDate}" 
                            pattern="dd-MM-yyyy" navigator="true" disabled="#{resPersonnelMBean.isPotencyDisabled}"/>

                <p:outputLabel value="Agama" />
                <p:inputText value="#{resPersonnelMBean.resPersonnel.religion}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"/>
                <p:outputLabel value="Pendidikan Terakhir"/>
                <p:inputText id="pendidikan" value="#{resPersonnelMBean.resPersonnel.lastEducation}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"
                             readonly="#{resPersonnelMBean.isReadOnlyField}"
                             label="Pendidikan Terakhir"/>

                <p:outputLabel value="Alamat"/>
                <p:inputTextarea id="almt" value="#{resPersonnelMBean.resPersonnel.homeAddress}" 
                                 required="true" requiredMessage="Alamat Wajib Di Isi"
                                 disabled="#{resPersonnelMBean.isPotencyDisabled}"
                                 readonly="#{resPersonnelMBean.isReadOnlyField}"
                                 label="Alamat"/>
                <p:outputLabel value="Provinsi"/>
                <p:inputText value="#{resPersonnelMBean.resPersonnel.idProvinsi}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"
                             readonly="#{resPersonnelMBean.isReadOnlyField}"/>
                <p:outputLabel value="Kota"/>
                <p:inputText value="#{resPersonnelMBean.resPersonnel.idKota}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"
                             readonly="#{resPersonnelMBean.isReadOnlyField}"/>
                <p:outputLabel value="Kode Pos"/>
                <p:inputText value="#{resPersonnelMBean.resPersonnel.kodePos}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"
                             readonly="#{resPersonnelMBean.isReadOnlyField}"/>

                <!--
                <p:outputLabel value="Gelar Depan" />
                <p:selectOneMenu value="#{resPersonnelMBean.resPersonnel.title}" 
                                 disabled="#{resPersonnelMBean.isPotencyDisabled}">
                    <f:selectItem itemValue="" itemLabel="Pilih"/>
                    <f:selectItem itemValue="Ibu." itemLabel="Ibu."/>
                    <f:selectItem itemValue="Bpk." itemLabel="Bpk."/>
                </p:selectOneMenu>-->

            </p:panelGrid>

            <p:panelGrid class="no-border no-padding" columns="2" layout="grid" styleClass="ui-panelgrid-blank form-group"
                         columnClasses="ui-grid-col-4 label,ui-grid-col-12 value value-readonly">

                <p:outputLabel value="No. Handphone (1)"/>
                <p:inputText id="phone" value="#{resPersonnelMBean.resPersonnel.phoneNumber}"
                             onkeypress="return validatePhone(event)"
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"
                             readonly="#{resPersonnelMBean.isReadOnlyField}"/>

                <p:outputLabel value="No. Handphone (2)"/>
                <p:inputText value="#{resPersonnelMBean.resPersonnel.mobilePhoneNumber}"
                             onkeypress="return validatePhone(event)" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}"
                             readonly="#{resPersonnelMBean.isReadOnlyField}"/>

                <p:outputLabel value="Email"/>
                <p:inputText value="#{resPersonnelMBean.resPersonnel.email}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}" 
                             validatorMessage="Format Email Salah" 
                             label="Email">
                    <f:validator validatorId="custom.emailValidator" />
                </p:inputText>



                <p:outputLabel value="Nama KanSAR" />
                <p:inputText value="#{resPersonnelMBean.resPersonnel.officeSar.kantorsarname}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}" />
                <p:outputLabel value="Nama Potensi"/>
                <p:inputText value="#{resPersonnelMBean.resPersonnel.potency.potencyname}" disabled="#{resPersonnelMBean.isPotencyDisabled}"/>
                <p:outputLabel value="Status" />
                <p:inputText value="#{resPersonnelMBean.resPersonnel.status}" 
                             disabled="#{resPersonnelMBean.isPotencyDisabled}" />

                <p:outputLabel value="Foto" />
                <p:fileUpload id="fileImport" fileUploadListener="#{resPersonnelMBean.upload}" 
                              mode="advanced" dragDropSupport="false" 
                              auto="true" sizeLimit="10000000" required="true" 
                              update="personel-content:personel-detail:personel-tabs:listImg"
                              process="@this" accept="image/*" disabled="#{resPersonnelMBean.isPotencyDisabled}"/>
                <panel >
                    <p:dataTable id="listImg" widgetVar="widListImg"
                                 value="#{resPersonnelMBean.listImage}" var="list"
                                 reflow="true" paginator="true" paginatorPosition="bottom" 
                                 rows="1" tableStyle="table-layout:auto"
                                 emptyMessage="Data Not Found">
                        <p:column headerText="Images" >

                            <h:form>
                                <h:panelGroup style="display:block; text-align:center">
                                    <p:lightBox id="lighbox1"> 
                                        <h:outputLink value="/document/temp/#{list.pathname != null ? list.pathname.replace('\\','/') : ''}" title="Image">
                                            <p:graphicImage url="/document/temp/#{list.pathname != null ? list.pathname.replace('\\','/') : ''}" width="300" height="300" cache="false" />
                                        </h:outputLink>
                                    </p:lightBox>
                                    <p:commandLink value="Hapus" actionListener="#{resPersonnelMBean.hapusImage(list)}" 
                                                   update="personel-content:personel-detail:personel-tabs:listImg @form" 
                                                   process="personel-content:personel-detail:personel-tabs:listImg @form"
                                                   disabled="{incidentLogMBean.disabled}">
                                        <p:confirm header="Konfirmasi" message="Apakah anda yakin ingin menghapus image ini?" 
                                                   icon="ui-icon-alert"/>
                                    </p:commandLink>
                                </h:panelGroup>
                            </h:form>
                        </p:column>
                    </p:dataTable>
                </panel>
            </p:panelGrid>            
        </p:panelGrid>

    </p:panel>
</ui:composition>
